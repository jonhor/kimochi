---
import BaseLayout from "./BaseLayout.astro";
import TableOfContents from "../components/TableOfContents.astro";
const { frontmatter, headings } = Astro.props;
---

<BaseLayout pageTitle={frontmatter.title}>
    <div class="layout-wrapper">
        <div class="nav-container">
            <TableOfContents headings={headings} />
        </div>

        <div class="content-container">
            <main>
                <p>{frontmatter.pubDate.toString().slice(0, 10)}</p>
                <p><em>{frontmatter.description}</em></p>
                <p>Written by: {frontmatter.author}</p>
                <img
                    src={frontmatter.image.url}
                    width="300"
                    alt={frontmatter.image.alt}
                />
                <slot />
            </main>
        </div>
        <div class="test"></div>
    </div>
</BaseLayout>

<style>
    .layout-wrapper {
        display: flex;
        flex-direction: row;
    }

    /*
    These two elements construct a three-column layout to ensure
    that the main content remains centered
    */
    .nav-container,
    .layout-wrapper::after {
        flex-grow: 1;
        flex-basis: 0;
        content: "";
        /* background-color: green; */
    }

    main {
        flex-shrink: 0;
        /* background-color: blue; */
        margin: 0 2rem;
    }

    .nav-container {
        display: flex;
        justify-content: flex-end;
        position: sticky;
    }
</style>
